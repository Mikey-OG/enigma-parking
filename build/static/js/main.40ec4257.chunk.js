(this.webpackJsonpparking=this.webpackJsonpparking||[]).push([[0],{26:function(e,t,n){},43:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(19),r=n.n(s),i=(n(43),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,89)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))}),o=(n(44),n(13)),c=n(14),l=n(16),h=n(15),u=n(21),d=n(10),j=(n(45),n(17)),m=n(8),p=n.n(m),b=n(11),g=n(7),O=n(77),x=n(78),f=n(79),v=n(80),D=n(81),y=n(82),S=n(12),w=n(0),E=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={showLogoutDialog:!1},a.openLogoutDialog=a.openLogoutDialog.bind(Object(g.a)(a)),a.closeLogoutDialog=a.closeLogoutDialog.bind(Object(g.a)(a)),a}return Object(c.a)(n,[{key:"openLogoutDialog",value:function(){this.setState({showLogoutDialog:!0})}},{key:"closeLogoutDialog",value:function(){this.setState({showLogoutDialog:!1})}},{key:"logout",value:function(){this.closeLogoutDialog()}},{key:"render",value:function(){var e=this,t=this.state.showLogoutDialog;return Object(w.jsxs)("div",{children:[Object(w.jsxs)(O.a,{color:"dark",dark:!0,expand:"md",children:[Object(w.jsx)(x.a,{href:"/",children:"Parking Manager"}),Object(w.jsxs)(f.a,{style:{position:"absolute",left:"50%",transform:"translate(-50%)",overflow:"hidden"},navbar:!0,children:[Object(w.jsx)(v.a,{children:Object(w.jsx)(D.a,{href:"/home",children:"Home"})}),Object(w.jsx)(v.a,{children:Object(w.jsx)(D.a,{href:"/addGuest",children:"Add Guest"})}),Object(w.jsx)(v.a,{children:Object(w.jsx)(D.a,{href:"/calendar",children:"Calendar"})}),Object(w.jsx)(v.a,{children:Object(w.jsx)(D.a,{href:"/addAppointment",children:"Add Appointment"})})]}),Object(w.jsx)(y.a,{size:"sm",className:"ml-auto",color:"danger",onClick:function(){return e.openLogoutDialog()},children:"Logout"})]}),Object(w.jsxs)(S.a,{show:t,onHide:function(){return e.closeLogoutDialog()},children:[Object(w.jsx)(S.a.Header,{closeButton:!0,children:Object(w.jsx)(S.a.Title,{children:"Delete Guest"})}),Object(w.jsx)(S.a.Body,{children:"Are you sure you want to logout?"}),Object(w.jsxs)(S.a.Footer,{children:[Object(w.jsx)(y.a,{color:"danger",onClick:function(){return e.logout()},children:"Logout"}),Object(w.jsx)(y.a,{color:"primary",onClick:function(){return e.closeLogoutDialog()},children:"Cancel"})]})]})]})}}]),n}(a.Component),N=(n(26),n(83)),C=n(84),k=n(85),L=n(86),P=n(87),I=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).emptyGuest={accountId:"",licensePlate:"",firstName:"",lastName:"",phoneNumber:""},a.state={guest:a.emptyGuest,showFirstNameError:!1,showLastNameError:!1,showLicensePlateError:!1,showPhoneNumberNameError:!1},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a}return Object(c.a)(n,[{key:"handleSubmit",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.formValidation()){e.next=5;break}return n=this.state.guest,e.next=5,fetch("/account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.ok&&a.props.history.push("/home")}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"formValidation",value:function(){var e=!0;this.setState({showFirstNameError:!1,showLastNameError:!1,showLicensePlateError:!1,showPhoneNumberNameError:!1});var t=this.state.guest;return""===t.firstName&&(this.setState({showFirstNameError:!0}),e=!1),""===t.lastName&&(this.setState({showLastNameError:!0}),e=!1),""===t.licensePlate&&(this.setState({showLicensePlateError:!0}),e=!1),""===t.phoneNumber&&(this.setState({showPhoneNumberNameError:!0}),e=!1),e}},{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name,s=Object(j.a)({},this.state.guest);s[a]=n,this.setState({guest:s}),console.log(s)}},{key:"render",value:function(){var e=this.state,t=e.showFirstNameError,n=e.showLastNameError,a=e.showLicensePlateError,s=e.showPhoneNumberNameError;return Object(w.jsxs)("div",{children:[Object(w.jsx)(E,{}),Object(w.jsx)("h2",{className:"text-center mt-5",children:"Add Guest"}),Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col"}),Object(w.jsx)("div",{className:"col",children:Object(w.jsx)(N.a,{className:"mt-5",children:Object(w.jsxs)(C.a,{onSubmit:this.handleSubmit,children:[Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"firstName",children:"First Name"}),Object(w.jsx)(P.a,{type:"text",name:"firstName",id:"firstName",onChange:this.handleChange}),Object(w.jsx)("p",{style:{color:"red"},children:t?"Missing First Name":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"lastName",children:"Last Name"}),Object(w.jsx)(P.a,{type:"text",name:"lastName",id:"lastName",onChange:this.handleChange}),Object(w.jsx)("p",{style:{color:"red"},children:n?"Missing Last Name":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"licensePlate",children:"License Plate"}),Object(w.jsx)(P.a,{type:"text",name:"licensePlate",id:"licensePlate",onChange:this.handleChange}),Object(w.jsx)("p",{style:{color:"red"},children:a?"Missing License Plate":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"phoneNumber",children:"Phone Number"}),Object(w.jsx)(P.a,{type:"text",name:"phoneNumber",id:"phoneNumber",onChange:this.handleChange}),Object(w.jsx)("p",{style:{color:"red"},children:s?"Incorrect or missing Phone Number":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(y.a,{color:"primary",type:"submit",children:"Save"})," ",Object(w.jsx)(y.a,{color:"secondary",tag:u.b,to:"/home",children:"Cancel"})]})]})})}),Object(w.jsx)("div",{className:"col"})]})})]})}}]),n}(a.Component),G=n(88),A=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={isLoading:!0,selectedGuest:[],showDeleteDialog:!1,guests:[]},a.editGuest=a.editGuest.bind(Object(g.a)(a)),a.deleteGuest=a.deleteGuest.bind(Object(g.a)(a)),a.openDeleteDialog=a.openDeleteDialog.bind(Object(g.a)(a)),a.closeDeleteDialog=a.closeDeleteDialog.bind(Object(g.a)(a)),a}return Object(c.a)(n,[{key:"editGuest",value:function(e){this.props.history.push("/editGuest/".concat(e))}},{key:"openDeleteDialog",value:function(e){this.setState({selectedGuest:e}),this.setState({showDeleteDialog:!0})}},{key:"closeDeleteDialog",value:function(){this.setState({showDeleteDialog:!1})}},{key:"deleteGuest",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedGuest.accountId,e.next=3,fetch("/account/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(){var e=n.state.guests;e.splice(e.findIndex((function(e){return e.accountId===t})),1),n.setState({guests:e,showDeleteDialog:!1})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/account");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({guests:n,isLoading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.guests,a=t.isLoading,s=t.showDeleteDialog,r=t.selectedGuest;if(a)return Object(w.jsx)("div",{children:"Loading..."});var i=n.map((function(t){return Object(w.jsxs)("tr",{id:t.accountId,children:[Object(w.jsx)("td",{children:t.firstName}),Object(w.jsx)("td",{children:t.lastName}),Object(w.jsx)("td",{children:t.licensePlate}),Object(w.jsx)("td",{children:t.phoneNumber}),Object(w.jsxs)("td",{children:[Object(w.jsx)(y.a,{style:{marginRight:"10px"},size:"sm",color:"primary",onClick:function(){return e.editGuest(t.accountId)},children:"Edit"}),Object(w.jsx)(y.a,{size:"sm",color:"danger",onClick:function(){return e.openDeleteDialog(t)},children:"Delete"})]})]})}));return Object(w.jsxs)("div",{children:[Object(w.jsx)(E,{}),Object(w.jsx)("h2",{className:"text-center mt-5",children:"Guest List"}),Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-1"}),Object(w.jsx)("div",{className:"col-10",children:Object(w.jsx)(G.a,{className:"mt-4",children:Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"First Name"}),Object(w.jsx)("th",{children:"Last Name"}),Object(w.jsx)("th",{children:"License Plate"}),Object(w.jsx)("th",{children:"Telephone Number"}),Object(w.jsx)("th",{children:"Options"})]}),i]})})}),Object(w.jsx)("div",{className:"col-1"})]})}),Object(w.jsxs)(S.a,{show:s,onHide:function(){return e.closeDeleteDialog()},children:[Object(w.jsx)(S.a.Header,{closeButton:!0,children:Object(w.jsx)(S.a.Title,{children:"Delete Guest"})}),Object(w.jsxs)(S.a.Body,{children:["Are you sure you want to delete this guest?",Object(w.jsx)("br",{}),r.firstName," ",r.lastName]}),Object(w.jsxs)(S.a.Footer,{children:[Object(w.jsx)(y.a,{color:"danger",onClick:function(){return e.deleteGuest()},children:"Delete"}),Object(w.jsx)(y.a,{color:"primary",onClick:function(){return e.closeDeleteDialog()},children:"Cancel"})]})]})]})}}]),n}(a.Component),F=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={isLoading:!0,guest:[],showFirstNameError:!1,showLastNameError:!1,showLicensePlateError:!1,showPhoneNumberNameError:!1},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a}return Object(c.a)(n,[{key:"handleSubmit",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.formValidation()){e.next=5;break}return n=this.state.guest,e.next=5,fetch("/account",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.ok&&a.props.history.push("/home")}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"formValidation",value:function(){var e=!0;this.setState({showFirstNameError:!1,showLastNameError:!1,showLicensePlateError:!1,showPhoneNumberNameError:!1});var t=this.state.guest;return""===t.firstName&&(this.setState({showFirstNameError:!0}),e=!1),""===t.lastName&&(this.setState({showLastNameError:!0}),e=!1),""===t.licensePlate&&(this.setState({showLicensePlateError:!0}),e=!1),""===t.phoneNumber&&(this.setState({showPhoneNumberNameError:!0}),e=!1),e}},{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name,s=Object(j.a)({},this.state.guest);s[a]=n,this.setState({guest:s})}},{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/account/".concat(this.props.match.params.id));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({guest:n,isLoading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.guest,n=e.isLoading,a=e.showFirstNameError,s=e.showLastNameError,r=e.showLicensePlateError,i=e.showPhoneNumberNameError;return n?Object(w.jsx)("div",{children:"Loading..."}):Object(w.jsxs)("div",{children:[Object(w.jsx)(E,{}),Object(w.jsx)("h2",{className:"text-center mt-5",children:"Edit Guest"}),Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col"}),Object(w.jsx)("div",{className:"col",children:Object(w.jsx)(N.a,{className:"mt-5",children:Object(w.jsxs)(C.a,{onSubmit:this.handleSubmit,children:[Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"firstName",children:"First Name"}),Object(w.jsx)(P.a,{type:"text",name:"firstName",id:"firstName",value:t.firstName,onChange:this.handleChange}),Object(w.jsx)("p",{style:{color:"red"},children:a?"Missing First Name":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"lastName",children:"Last Name"}),Object(w.jsx)(P.a,{type:"text",name:"lastName",id:"lastName",value:t.lastName,onChange:this.handleChange}),Object(w.jsx)("p",{style:{color:"red"},children:s?"Missing Last Name":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"licensePlate",children:"License Plate"}),Object(w.jsx)(P.a,{type:"text",name:"licensePlate",id:"licensePlate",value:t.licensePlate,onChange:this.handleChange}),Object(w.jsx)("p",{style:{color:"red"},children:r?"Missing License Plate":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"phoneNumber",children:"Phone Number"}),Object(w.jsx)(P.a,{type:"text",name:"phoneNumber",id:"phoneNumber",value:t.phoneNumber,onChange:this.handleChange}),Object(w.jsx)("p",{style:{color:"red"},children:i?"Incorrect or missing Phone Number":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(y.a,{color:"primary",type:"submit",children:"Save"})," ",Object(w.jsx)(y.a,{color:"secondary",tag:u.b,to:"/home",children:"Cancel"})]})]})})}),Object(w.jsx)("div",{className:"col"})]})})]})}}]),n}(a.Component),R=n(38);n(62);var M,H,T={"color-1":"rgba(102, 195, 131 , 1)","color-2":"rgba(242, 177, 52, 1)","color-3":"rgba(235, 85, 59, 1)"},V=new Date,q=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={appointments:[],selectedAppointment:[],showDeleteDialog:!1,selected:[],cellHeight:30,showModal:!1,locale:"nl",rowsPerHour:2,numberOfDays:7,startDate:new Date},a.handleCellSelection=a.handleCellSelection.bind(Object(g.a)(a)),a.handleItemEdit=a.handleItemEdit.bind(Object(g.a)(a)),a.handleRangeSelection=a.handleRangeSelection.bind(Object(g.a)(a)),a.handleItemRemove=a.handleItemRemove.bind(Object(g.a)(a)),a.deleteAppointment=a.deleteAppointment.bind(Object(g.a)(a)),a.closeDeleteDialog=a.closeDeleteDialog.bind(Object(g.a)(a)),a}return Object(c.a)(n,[{key:"closeDeleteDialog",value:function(){this.setState({showDeleteDialog:!1})}},{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n,a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/account");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.next=8,fetch("/appointment");case 8:return t=e.sent,e.next=11,t.json();case 11:a=e.sent,s=[],t.ok&&a.forEach((function(e){var t={},a=n.find((function(t){return t.accountId===e.guestId}));t._id=e.appointmentId,t.name=a?"Appointment with "+a.firstName+" "+a.lastName:"Appointment with unknown",t.startDateTime=new Date(e.appointmentStartDate),t.endDateTime=new Date(e.appointmentEndDate),t.classes="color-1",s.push(t)})),this.setState({appointments:s,isLoading:!1,startDate:this.getMonday()});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMonday",value:function(){var e=new Date,t=e.getDay(),n=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(n))}},{key:"handleCellSelection",value:function(e){console.log("handleCellSelection",e)}},{key:"handleItemEdit",value:function(e){this.props.history.push("/editAppointment/".concat(e._id))}},{key:"handleRangeSelection",value:function(e){console.log("handleRangeSelection",e)}},{key:"handleItemRemove",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({selectedAppointment:n,showDeleteDialog:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteAppointment",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedAppointment._id,e.next=3,fetch("/appointment/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(){var e=n.state.appointments;e.splice(e.findIndex((function(e){return e._id===t})),1),n.setState({appointments:e,showDeleteDialog:!1})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.showDeleteDialog;return Object(w.jsxs)("div",{children:[Object(w.jsx)(E,{}),Object(w.jsx)("h2",{className:"text-center mt-5",children:"Calendar"}),Object(w.jsx)(R.ReactAgenda,{minDate:V,maxDate:new Date(V.getFullYear(),V.getMonth()+3),disablePrevButton:!1,startDate:this.state.startDate,cellHeight:this.state.cellHeight,locale:this.state.locale,items:this.state.appointments,numberOfDays:this.state.numberOfDays,rowsPerHour:this.state.rowsPerHour,itemColors:T,autoScale:!1,fixedHeader:!0,onItemEdit:this.handleItemEdit.bind(this),onCellSelect:this.handleCellSelection.bind(this),onRangeSelection:this.handleRangeSelection.bind(this),onItemRemove:this.handleItemRemove.bind(this)}),Object(w.jsxs)(S.a,{show:t,onHide:function(){return e.closeDeleteDialog()},children:[Object(w.jsx)(S.a.Header,{closeButton:!0,children:Object(w.jsx)(S.a.Title,{children:"Delete Appointment"})}),Object(w.jsx)(S.a.Body,{children:"Are you sure you want to delete this appointment?"}),Object(w.jsxs)(S.a.Footer,{children:[Object(w.jsx)(y.a,{color:"danger",onClick:function(){return e.deleteAppointment()},children:"Delete"}),Object(w.jsx)(y.a,{color:"primary",onClick:function(){return e.closeDeleteDialog()},children:"Cancel"})]})]})]})}}]),n}(a.Component),B=n(25),J=n.n(B),_=n(29),z=n.n(_),Y=function(e){var t=e.trim().toLowerCase(),n=t.length;return 0===n?[]:M.filter((function(e){return e.firstName.toLowerCase().slice(0,n)===t}))},K=function(e){return e.firstName+" "+e.lastName},Q=function(e){return Object(w.jsxs)("span",{id:e.accountId,children:[e.firstName," ",e.lastName]})},U=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).emptyAppointment={appointmentId:"",guestId:"",employeeEmail:"",appointmentStartDate:"",appointmentEndDate:""},a.handleSuggestionChange=function(e,t){var n=t.newValue;a.setState({value:n})},a.onSuggestionsFetchRequested=function(e){var t=e.value;a.setState({suggestions:Y(t)})},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.onSuggestionSelected=function(e,t){var n=t.suggestion;t.suggestionValue,t.index,t.method;e.preventDefault();var s=Object(j.a)({},a.state.appointment);s.guestId=n.accountId,a.setState({appointment:s})},a.state={value:"",suggestions:[],appointment:a.emptyAppointment,showGuestError:!1,showEmailError:!1,showStartDateError:!1,showEndDateError:!1},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(g.a)(a)),a.handleStartDatetimeChange=a.handleStartDatetimeChange.bind(Object(g.a)(a)),a.handleEndDatetimeChange=a.handleEndDatetimeChange.bind(Object(g.a)(a)),a}return Object(c.a)(n,[{key:"handleSubmit",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.formValidation()){e.next=5;break}return n=this.state.appointment,e.next=5,fetch("/appointment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){console.log(e),e.ok&&a.props.history.push("/calendar")}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"formValidation",value:function(){var e=!0;this.setState({showGuestError:!1,showEmailError:!1,showStartDateError:!1,showEndDateError:!1});var t=this.state.appointment;return""===t.guestId&&(this.setState({showGuestError:!0}),e=!1),""===t.employeeEmail&&(this.setState({showEmailError:!0}),e=!1),""===t.appointmentStartDate&&(this.setState({showStartDateError:!0}),e=!1),""===t.appointmentEndDate&&(this.setState({showEndDateError:!0}),e=!1),e}},{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,a=t.name,s=Object(j.a)({},this.state.appointment);s[a]=n,this.setState({appointment:s})}},{key:"handleStartDatetimeChange",value:function(e){var t=Object(j.a)({},this.state.appointment);t.appointmentStartDate=e.toDate(),this.setState({appointment:t})}},{key:"handleEndDatetimeChange",value:function(e){var t=Object(j.a)({},this.state.appointment);t.appointmentEndDate=e.toDate(),this.setState({appointment:t})}},{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/account");case 2:return t=e.sent,e.next=5,t.json();case 5:M=e.sent,this.setState({isLoading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.value,n=e.suggestions,a=e.showGuestError,s=e.showEmailError,r=e.showStartDateError,i=e.showEndDateError,o={value:t,onChange:this.handleSuggestionChange};return Object(w.jsxs)("div",{children:[Object(w.jsx)(E,{}),Object(w.jsx)("h2",{className:"text-center mt-5",children:"Add Appointment"}),Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col"}),Object(w.jsx)("div",{className:"col",children:Object(w.jsx)(N.a,{className:"mt-5",children:Object(w.jsxs)(C.a,{onSubmit:this.handleSubmit,children:[Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"guest",children:"Guest"}),Object(w.jsx)(z.a,{name:"guest",id:"guest",suggestions:n,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:K,renderSuggestion:Q,onSuggestionSelected:this.onSuggestionSelected,inputProps:o}),Object(w.jsx)("p",{style:{color:"red"},children:a?"Missing Guest, make sure to select one from the suggestions":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"employeeEmail",children:"Email of Employee"}),Object(w.jsx)(P.a,{type:"email",name:"employeeEmail",id:"employeeEmail",onChange:this.handleInputChange}),Object(w.jsx)("p",{style:{color:"red"},children:s?"Missing Email":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"appointmentStartDate",children:"Appointment Start Date"}),Object(w.jsx)(J.a,{type:"text",name:"appointmentStartDate",id:"appointmentStartDate",inputProps:{readOnly:!0},locale:"nl",timeFormat:"HH:mm",onChange:this.handleStartDatetimeChange}),Object(w.jsx)("p",{style:{color:"red"},children:r?"Missing Start Date":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"appointmentEndDate",children:"Appointment End Date"}),Object(w.jsx)(J.a,{type:"text",name:"appointmentEndDate",id:"appointmentEndDate",inputProps:{readOnly:!0},locale:"nl",timeFormat:"HH:mm",onChange:this.handleEndDatetimeChange}),Object(w.jsx)("p",{style:{color:"red"},children:i?"Missing End Date":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(y.a,{color:"primary",type:"submit",children:"Save"})," ",Object(w.jsx)(y.a,{color:"secondary",tag:u.b,to:"/home",children:"Cancel"})]})]})})}),Object(w.jsx)("div",{className:"col"})]})})]})}}]),n}(a.Component),W=function(e){var t=e.trim().toLowerCase(),n=t.length;return 0===n?[]:H.filter((function(e){return e.firstName.toLowerCase().slice(0,n)===t}))},X=function(e){return e.firstName+" "+e.lastName},Z=function(e){return Object(w.jsxs)("span",{id:e.accountId,children:[e.firstName," ",e.lastName]})},$=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleSuggestionChange=function(e,t){var n=t.newValue;a.setState({value:n})},a.onSuggestionsFetchRequested=function(e){var t=e.value;a.setState({suggestions:W(t)})},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.onSuggestionSelected=function(e,t){var n=t.suggestion;t.suggestionValue,t.index,t.method;e.preventDefault();var s=Object(j.a)({},a.state.appointment);s.guestId=n.accountId,a.setState({appointment:s})},a.state={value:"",suggestions:[],appointment:[],showGuestError:!1,showEmailError:!1,showStartDateError:!1,showEndDateError:!1},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(g.a)(a)),a.handleStartDatetimeChange=a.handleStartDatetimeChange.bind(Object(g.a)(a)),a.handleEndDatetimeChange=a.handleEndDatetimeChange.bind(Object(g.a)(a)),a}return Object(c.a)(n,[{key:"handleSubmit",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.formValidation()){e.next=5;break}return n=this.state.appointment,e.next=5,fetch("/appointment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.ok&&a.props.history.push("/calendar")}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"formValidation",value:function(){var e=!0;this.setState({showGuestError:!1,showEmailError:!1,showStartDateError:!1,showEndDateError:!1});var t=this.state.appointment;return""===t.guestId&&(this.setState({showGuestError:!0}),e=!1),""===t.employeeEmail&&(this.setState({showEmailError:!0}),e=!1),""===t.appointmentStartDate&&(this.setState({showStartDateError:!0}),e=!1),""===t.appointmentEndDate&&(this.setState({ShowEndDateError:!0}),e=!1),e}},{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,a=t.name,s=Object(j.a)({},this.state.appointment);s[a]=n,this.setState({appointment:s})}},{key:"handleStartDatetimeChange",value:function(e){var t=Object(j.a)({},this.state.appointment);t.appointmentStartDate=e.toDate(),this.setState({appointment:t})}},{key:"handleEndDatetimeChange",value:function(e){var t=Object(j.a)({},this.state.appointment);t.appointmentEndDate=e.toDate(),this.setState({appointment:t})}},{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n,a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/account");case 2:return t=e.sent,e.next=5,t.json();case 5:return H=e.sent,e.next=8,fetch("/appointment/".concat(this.props.match.params.id));case 8:return t=e.sent,e.next=11,t.json();case 11:n=e.sent,a=H.find((function(e){return e.accountId===n.guestId})),s="",a&&(s=a.firstName+" "+a.lastName),this.setState({value:s,appointment:n,isLoading:!1});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.value,n=e.suggestions,a=e.appointment,s=e.showGuestError,r=e.showEmailError,i=e.showStartDateError,o=e.showEndDateError,c={value:t,onChange:this.handleSuggestionChange};return Object(w.jsxs)("div",{children:[Object(w.jsx)(E,{}),Object(w.jsx)("h2",{className:"text-center mt-5",children:"Edit Appointment"}),Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col"}),Object(w.jsx)("div",{className:"col",children:Object(w.jsx)(N.a,{className:"mt-5",children:Object(w.jsxs)(C.a,{onSubmit:this.handleSubmit,children:[Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"guest",children:"Guest"}),Object(w.jsx)(z.a,{name:"guest",id:"guest",suggestions:n,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:X,renderSuggestion:Z,onSuggestionSelected:this.onSuggestionSelected,inputProps:c}),Object(w.jsx)("p",{style:{color:"red"},children:s?"Missing Guest, make sure to select one from the suggestions":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"employeeEmail",children:"Email of Employee"}),Object(w.jsx)(P.a,{type:"email",name:"employeeEmail",id:"employeeEmail",value:a.employeeEmail,onChange:this.handleInputChange}),Object(w.jsx)("p",{style:{color:"red"},children:r?"Missing Email":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"appointmentStartDate",children:"Appointment Start Date"}),Object(w.jsx)(J.a,{type:"text",name:"appointmentStartDate",id:"appointmentStartDate",value:new Date(a.appointmentStartDate),inputProps:{readOnly:!0},locale:"nl",timeFormat:"HH:mm",onChange:this.handleStartDatetimeChange}),Object(w.jsx)("p",{style:{color:"red"},children:i?"Missing Start Date":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(L.a,{for:"appointmentEndDate",children:"Appointment End Date"}),Object(w.jsx)(J.a,{type:"text",name:"appointmentEndDate",id:"appointmentEndDate",value:new Date(a.appointmentEndDate),inputProps:{readOnly:!0},locale:"nl",timeFormat:"HH:mm",onChange:this.handleEndDatetimeChange}),Object(w.jsx)("p",{style:{color:"red"},children:o?"Missing End Date":""})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(y.a,{color:"primary",type:"submit",children:"Save"})," ",Object(w.jsx)(y.a,{color:"secondary",tag:u.b,to:"/home",children:"Cancel"})]})]})})}),Object(w.jsx)("div",{className:"col"})]})})]})}}]),n}(a.Component),ee=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(c.a)(n,[{key:"render",value:function(){return Object(w.jsx)(u.a,{children:Object(w.jsxs)(d.d,{children:[Object(w.jsx)(d.b,{exact:!0,path:"/",children:Object(w.jsx)(d.a,{to:"/home"})}),Object(w.jsx)(d.b,{path:"/home",exact:!0,component:A}),Object(w.jsx)(d.b,{path:"/addGuest",exact:!0,component:I}),Object(w.jsx)(d.b,{path:"/editGuest/:id",component:F}),Object(w.jsx)(d.b,{path:"/calendar",exact:!0,component:q}),Object(w.jsx)(d.b,{path:"/addAppointment",exact:!0,component:U}),Object(w.jsx)(d.b,{path:"/editAppointment/:id",component:$})]})})}}]),n}(a.Component);n(73);r.a.render(Object(w.jsx)(ee,{}),document.getElementById("root")),i()}},[[75,1,2]]]);
//# sourceMappingURL=main.40ec4257.chunk.js.map