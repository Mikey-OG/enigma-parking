{"ast":null,"code":"import _objectSpread from\"D:/S3Funny/enigma-parking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/S3Funny/enigma-parking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/S3Funny/enigma-parking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/S3Funny/enigma-parking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/S3Funny/enigma-parking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/S3Funny/enigma-parking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/S3Funny/enigma-parking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/S3Funny/enigma-parking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import AppNav from\"../AppNav\";import'../App.css';import{Container,Form,FormGroup,Input,Label,Button}from'reactstrap';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditGuest=/*#__PURE__*/function(_Component){_inherits(EditGuest,_Component);var _super=_createSuper(EditGuest);function EditGuest(props){var _this;_classCallCheck(this,EditGuest);_this=_super.call(this,props);_this.state={isLoading:true,guest:[],showFirstNameError:false,showLastNameError:false,showLicensePlateError:false,showPhoneNumberNameError:false};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(EditGuest,[{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _this2=this;var guest;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!this.formValidation()){_context.next=5;break;}guest=this.state.guest;_context.next=5;return fetch('/account',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(guest)}).then(function(response){if(response.ok){_this2.props.history.push(\"/home\");}});case 5:case\"end\":return _context.stop();}}},_callee,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"formValidation\",value:function formValidation(){var validated=true;this.setState({showFirstNameError:false,showLastNameError:false,showLicensePlateError:false,showPhoneNumberNameError:false});var guest=this.state.guest;if(guest.firstName===''){this.setState({showFirstNameError:true});validated=false;}if(guest.lastName===''){this.setState({showLastNameError:true});validated=false;}if(guest.licensePlate===''){this.setState({showLicensePlateError:true});validated=false;}if(guest.phoneNumber===''){this.setState({showPhoneNumberNameError:true});validated=false;}return validated;}},{key:\"handleChange\",value:function handleChange(event){var target=event.target;var value=target.value;var name=target.name;var guest=_objectSpread({},this.state.guest);guest[name]=value;this.setState({guest:guest});}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,body;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/account/\".concat(this.props.match.params.id));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:body=_context2.sent;this.setState({guest:body,isLoading:false});case 7:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$state=this.state,guest=_this$state.guest,isLoading=_this$state.isLoading,showFirstNameError=_this$state.showFirstNameError,showLastNameError=_this$state.showLastNameError,showLicensePlateError=_this$state.showLicensePlateError,showPhoneNumberNameError=_this$state.showPhoneNumberNameError;if(isLoading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNav,{}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mt-5\",children:\"Edit Guest\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(Container,{className:\"mt-5\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"firstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"firstName\",id:\"firstName\",value:guest.firstName,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:showFirstNameError?'Missing First Name':''})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"lastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"lastName\",id:\"lastName\",value:guest.lastName,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:showLastNameError?'Missing Last Name':''})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"licensePlate\",children:\"License Plate\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"licensePlate\",id:\"licensePlate\",value:guest.licensePlate,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:showLicensePlateError?'Missing License Plate':''})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"phoneNumber\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"phoneNumber\",id:\"phoneNumber\",value:guest.phoneNumber,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:showPhoneNumberNameError?'Incorrect or missing Phone Number':''})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",type:\"submit\",children:\"Save\"}),' ',/*#__PURE__*/_jsx(Button,{color:\"secondary\",tag:Link,to:\"/home\",children:\"Cancel\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\"})]})})]});}}]);return EditGuest;}(Component);export{EditGuest as default};","map":{"version":3,"sources":["D:/S3Funny/enigma-parking/src/Guests/EditGuest.js"],"names":["React","Component","AppNav","Container","Form","FormGroup","Input","Label","Button","Link","EditGuest","props","state","isLoading","guest","showFirstNameError","showLastNameError","showLicensePlateError","showPhoneNumberNameError","handleSubmit","bind","handleChange","event","preventDefault","formValidation","fetch","method","headers","body","JSON","stringify","then","response","ok","history","push","validated","setState","firstName","lastName","licensePlate","phoneNumber","target","value","name","match","params","id","json","color"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport AppNav from \"../AppNav\";\r\nimport '../App.css';\r\nimport {Container, Form, FormGroup, Input, Label, Button} from 'reactstrap';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport default class EditGuest extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isLoading: true,\r\n            guest: [],\r\n            showFirstNameError: false,\r\n            showLastNameError: false,\r\n            showLicensePlateError: false,\r\n            showPhoneNumberNameError: false\r\n        };\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        if(this.formValidation()){\r\n            const guest = this.state.guest;\r\n            await fetch('/account', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(guest),\r\n            }).then((response) => {\r\n                if (response.ok) {\r\n                    this.props.history.push(\"/home\");\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    formValidation(){\r\n        let validated = true;\r\n\r\n        this.setState({\r\n            showFirstNameError: false,\r\n            showLastNameError: false,\r\n            showLicensePlateError: false,\r\n            showPhoneNumberNameError: false\r\n        });\r\n\r\n        const guest = this.state.guest;\r\n        if ( guest.firstName === '' ){\r\n            this.setState({showFirstNameError: true});\r\n            validated = false;\r\n        }\r\n        if ( guest.lastName === '' ){\r\n            this.setState({showLastNameError: true});\r\n            validated = false;\r\n        }\r\n        if ( guest.licensePlate === '' ){\r\n            this.setState({showLicensePlateError: true});\r\n            validated = false;\r\n        }\r\n        if ( guest.phoneNumber === '' ){\r\n            this.setState({showPhoneNumberNameError: true});\r\n            validated = false;\r\n        }\r\n        return validated;\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let guest = {...this.state.guest};\r\n        guest[name] = value;\r\n        this.setState({guest});\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const response = await fetch(`/account/${this.props.match.params.id}`);\r\n        const body = await response.json();\r\n        this.setState({guest: body, isLoading: false});\r\n    }\r\n\r\n\r\n    render() {\r\n        const {guest, isLoading, showFirstNameError, showLastNameError, showLicensePlateError, showPhoneNumberNameError} = this.state;\r\n\r\n        if (isLoading)\r\n            return (<div>Loading...</div>)\r\n\r\n        return (\r\n            <div><AppNav/>\r\n                <h2 className=\"text-center mt-5\">Edit Guest</h2>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col\"/>\r\n                        <div className=\"col\">\r\n                            <Container className=\"mt-5\">\r\n                                <Form onSubmit={this.handleSubmit}>\r\n                                    <FormGroup>\r\n                                        <Label for=\"firstName\">First Name</Label>\r\n                                        <Input type=\"text\" name=\"firstName\" id=\"firstName\" value={guest.firstName}\r\n                                               onChange={this.handleChange}/>\r\n                                        <p style={{color: 'red'}}>{showFirstNameError ? 'Missing First Name' : ''}</p>\r\n                                    </FormGroup>\r\n                                    <FormGroup>\r\n                                        <Label for=\"lastName\">Last Name</Label>\r\n                                        <Input type=\"text\" name=\"lastName\" id=\"lastName\" value={guest.lastName}\r\n                                               onChange={this.handleChange}/>\r\n                                        <p style={{color: 'red'}}>{showLastNameError ? 'Missing Last Name' : ''}</p>\r\n                                    </FormGroup>\r\n                                    <FormGroup>\r\n                                        <Label for=\"licensePlate\">License Plate</Label>\r\n                                        <Input type=\"text\" name=\"licensePlate\" id=\"licensePlate\"\r\n                                               value={guest.licensePlate} onChange={this.handleChange}/>\r\n                                        <p style={{color: 'red'}}>{showLicensePlateError ? 'Missing License Plate' : ''}</p>\r\n                                    </FormGroup>\r\n                                    <FormGroup>\r\n                                        <Label for=\"phoneNumber\">Phone Number</Label>\r\n                                        <Input type=\"text\" name=\"phoneNumber\" id=\"phoneNumber\" value={guest.phoneNumber}\r\n                                               onChange={this.handleChange}/>\r\n                                        <p style={{color: 'red'}}>{showPhoneNumberNameError ? 'Incorrect or missing Phone Number' : ''}</p>\r\n                                    </FormGroup>\r\n                                    <FormGroup>\r\n                                        <Button color=\"primary\" type=\"submit\">Save</Button>{' '}\r\n                                        <Button color=\"secondary\" tag={Link} to=\"/home\">Cancel</Button>\r\n                                    </FormGroup>\r\n                                </Form>\r\n                            </Container>\r\n                        </div>\r\n                        <div className=\"col\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>);\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}